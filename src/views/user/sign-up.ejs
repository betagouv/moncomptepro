<div class="mcp-sticky-body">
    <div class="fr-container--fluid">
        <div class="fr-grid-row fr-grid-row--center fr-grid-row--middle mcp-full-height">
            <div class="fr-col-lg-6 fr-col-sm-9 fr-px-md-15v fr-px-5v fr-pt-5w mcp-full-height mcp-pb">
                <div >
                    <%- include('../partials/notifications.ejs', {notifications: notifications, noWrapperDiv: true}) %>
                        <h1>
                            Choisir votre mot de passe
                        </h1>
                        <div>
                            <div class="fr-notice fr-notice--info notice--change-email fr-mb-2w">
                                <div class="fr-container">
                                    <p class="fr-notice__body">
                                        <span class="fr-sr-only">Votre email :</span>
                                        <strong><%= email; %></strong>
                                        <a
                                                class="fr-btn fr-btn--close"
                                                title="Changer d’adresse email"
                                                href="/users/start-sign-in"
                                        >
                                            Changer d’adresse email
                                        </a>
                                    </p>
                                </div>
                            </div>

                            <form action="/users/sign-up" method="post" class="fr-mb-2w">
                                <input type="hidden" name="_csrf" value="<%= csrfToken ;%>" autocomplete="off">

                                <div class="fr-input-group fr-password js-password-container">
                                    <label class="fr-label" for="password-input">
                                        Mot de passe
                                    </label>
                                    <div class="fr-input-wrap">
                                        <input
                                                class="fr-password__input fr-input js-password-container__input"
                                                aria-describedby="password-input-messages"
                                                aria-required="true"
                                                name="password"
                                                autocomplete="new-password"
                                                id="password-input"
                                                type="password"
                                                minlength="10"
                                                data-email="<%= email; %>"
                                        >
                                    </div>
                                    <div class="fr-password__checkbox fr-checkbox-group fr-checkbox-group--sm">
                                        <input
                                                class="js-password-container__toggle"
                                                aria-label="Afficher le mot de passe"
                                                id="password-show"
                                                type="checkbox"
                                        >
                                        <label class="fr-password__checkbox fr-label" for="password-show">
                                            Afficher
                                        </label>
                                    </div>
                                    <%- include('../partials/password-input-messages.ejs') %>
                                </div>

                                <%- include('../partials/card-button-container.ejs', {label: 'Valider', ariaLabel: 'Valider le mot de passe', showGoBackButton: true}) %>
                            </form>

                            <p class="fr-hr-or">ou</p>

                            <div>
                                <p class="fr-text--sm">
                                    <b>Connectez-vous sans mot de passe</b> en recevant <b>un lien par email.</b>
                                </p>
                                <div class="card-button-container">
                                    <div id="magic-link-icon-inline">
                                        <img src="/dist/magic-link.svg" alt="">
                                    </div>
                                    <form action="/users/send-magic-link" method="post">
                                        <input type="hidden" name="_csrf" value="<%= csrfToken; %>" autocomplete="off">

                                        <%- include('../partials/card-button-container.ejs', {label: 'Envoyer le lien'}) %>
                                    </form>
                                </div>
                            </div>
                        </div>   
                </div>
            </div>
        <%- include('../partials/side-illustration.ejs', {illu: 'authent.svg'}) %>
        </div>
    </div>
</div>

<script type="module" src="<%= js('show-password.js') %>"></script>
<script type="module" src="<%= js('password-feedback.js') %>"></script>
